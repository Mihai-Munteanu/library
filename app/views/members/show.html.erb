<%
  # Prepare basic information fields
  basic_fields = [
    { label: "Name", value: @member.name },
    { label: "Email", value: @member.email || "N/A" },
    { label: "Birth Date", value: @member.birth_date || "N/A" },
    { label: "Gender", value: @member.gender&.humanize || "N/A" },
    { label: "Is Active", value: @member.is_active ? "Yes" : "No" },
    { label: "Is VIP", value: @member.is_vip ? "Yes" : "No" },
    { label: "Is Admin", value: @member.is_admin ? "Yes" : "No" },
    { label: "Balance", value: @member.balance || "N/A" },
    { label: "Total Spent", value: @member.total_spent || "N/A" },
    { label: "Discount Rate", value: @member.discount_rate || "N/A" },
    { label: "Points", value: @member.points || "N/A" },
    { label: "Books Borrowed", value: @member.books_borrowed || "N/A" },
    { label: "Books Returned", value: @member.books_returned || "N/A" }
  ]
%>
<%= render "shared/show_page",
    resource: @member,
    title: @member.name,
    index_path: members_path,
    edit_path: edit_member_path(@member),
    delete_confirmation_path: delete_confirmation_member_path(@member, from_page: "show"),
    details_sections: [
      {
        title: "Basic Information",
        fields: basic_fields
      }
    ],
    related_sections: [
      {
        title: "Loans for #{@member.name}",
        new_path: new_loan_path(member_id: @member.id),
        new_text: "Add Loan",
        container_id: "loans-table-container",
        partial: "members/loans_table",
        locals: { loans: @loans, pagy: @pagy, member: @member, from_page: "member_show", return_to: member_path(@member) }
      }
    ] %>
